"use strict";var App={};window.App=App,App.handleBiglink=function(){function e(){$(".biglink__link").isFullyInViewport()&&$(".biglink__bear").addClass("is--running")}$(".biglink__bear").length&&(e(),$(window).on("resize scroll",function(){e()})),$(".biglink__link").on("mouseenter",function(){$(".wrapper").addClass("is--dia")}),$(".biglink__link").on("mouseleave",function(){$(".wrapper").removeClass("is--dia")})},App.handleCases=function(){if($(window).width()>1024){var e=function(e,t,i){if(t){var n;if("next"==i)var n=l-t;else var n=l+t;l=n>0?0:n<=-r?-r:n,$(".scroll-area__holder").addClass("is--clicked"),a.children[0].style.left=l+"px",setTimeout(function(){$(".scroll-area__holder").removeClass("is--clicked")},300)}else{var o=3;o=e.originalEvent.deltaY?-e.originalEvent.deltaY:-e.originalEvent.WheelDelta,(o<0&&l*s>=-r||o>1&&l*s<0)&&(l+=o),l>0?l=0:l<=-r&&(l=-r),a.children[0].style.left=l*s+"px"}l<=-r&&1==c?(c=!1,$(".caseview__arrow--next").addClass("is--hidden")):l>-r&&0==c&&(c=!0,$(".caseview__arrow--next").removeClass("is--hidden")),l>=0&&1==d?(d=!1,$(".caseview__arrow--prev").addClass("is--hidden")):l<0&&0==d&&(d=!0,$(".caseview__arrow--prev").removeClass("is--hidden")),e.preventDefault()},t=$(".caseview__case-panel").width(),i=t*$(".caseview__case-panel").length;$(".scroll-area__holder").css("width",i+"px");var a=document.getElementById("scroll-area"),n=parseInt(a.offsetWidth,10),o=parseInt(a.children[0].offsetWidth,10),r=o-n,s=1,l=0,c=!0,d=!1;$(".scroll-area__holder").css("max-width","100%"),a.children[0].style.left=l+"px",$("#scroll-area").on("mousewheel",function(t){e(t)}),$(".caseview__arrow").on("click",function(i){$(this).addClass("is--clicked"),$(this).hasClass("caseview__arrow--next")?e(i,4*t,"next"):e(i,4*t,"prev"),setTimeout(function(){$(".caseview__arrow").removeClass("is--clicked")},2e3)})}},App.handleCircles=function(){function e(){var e=$(".circle").first().outerHeight(),t=2.25*e+72;$(".circles").css("height",t+"px");var i=t/2-e/2;$(".circle--2, .circle--4").css("top",i+"px")}function t(e){$(".circle").removeClass("is--active"),e.addClass("is--active"),$(".circle-content__description").hide();var t=e.data("circleid");$('.circle-content__description[data-circleid="'+t+'"]').show()}e(),$(window).resize(function(){e()}),$(window).on("resize scroll",function(){$(".circles").isInViewport()&&setTimeout(function(){$(".circle.is--active").length||t($(".circle--1"))},1e3)}),$(".circle").on("click",function(e){e.stopImmediatePropagation(),t($(this))}),$(".wrapper").on("click",function(){$(".circle").removeClass("is--active")})},App.handleCookiebar=function(){var e=$("#cookiebar");if(e.length){var t=function(){Cookies.set("gtmCookieAccepted",1,{expires:1095}),Cookies.set("gtmCookiePopup",1,{expires:1095}),location.reload()};Cookies.get("gtmCookiePopup")?e.remove():(e.addClass("is--visible"),$(".wrapper").addClass("is--cookiebar")),$(".cookiebar__accept").on("click",function(){t()})}},$.fn.isInViewport=function(){if($(this).length){var e=$(this).offset().top,t=e+$(this).outerHeight(),i=$(window).scrollTop(),a=i+$(window).height();return t>i&&e<a}return!1},$.fn.isFullyInViewport=function(){if($(this).length){var e=$(this).offset().top,t=e+$(this).outerHeight(),i=$(window).scrollTop(),a=i+$(window).height();return e>=i&&t<=a}return!1},App.handleIntro=function(){var e,t,i=!1,a=[{selector:".intro__image-wrap--forest",scale:1,maxScale:1.06,scaleRate:2e4},{selector:".intro__image-wrap--rocks",scale:1,maxScale:1.17,scaleRate:8e3},{selector:".intro__image-wrap--cor",scale:1,maxScale:1.5,scaleRate:3e3}],n=/win|Win/g.test(navigator.platform),o=0,r=0;n&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&a.map(function(e){return e.scaleRate/=25});var s=function t(s){var l,c=document.documentElement.scrollTop;if(l=s.originalEvent.deltaY?s.originalEvent.deltaY:-s.originalEvent.wheelDelta,c>0)return void clearInterval(e);a.filter(function(e){return e.scale>=e.maxScale}).length>=a.length&&($(".intro__video").length&&($(".intro__video").addClass("is--visible"),$(".intro__video").get(0).play()),setTimeout(function(){i=!0},1e3)),0==c&&r>0&&$(".intro__video").removeClass("is--visible"),0==i&&s.preventDefault();for(var d=0;d<a.length;d++)!function(e){var t=1;n&&(t=2.5),a[e].scale+=l/(a[e].scaleRate*t)*a[e].scale,a[e].scale>a[e].maxScale&&(a[e].scale=a[e].maxScale),a[e].scale<1&&(a[e].scale=1),$(a[e].selector).css({"-webkit-transform":"scale("+a[e].scale+")","-moz-transform":"scale("+a[e].scale+")","-ms-transform":"scale("+a[e].scale+")","-o-transform":"scale("+a[e].scale+")",transform:"scale("+a[e].scale+")"}),null!=a[e].opacity&&null!=a[e].opacityRate&&(a[e].opacity-=l/(a[e].opacityRate*t),a[e].opacity>1&&(a[e].opacity=1),a[e].opacity<0&&(a[e].opacity=0),$(a[e].selector).css({opacity:a[e].opacity}))}(d);n&&((o>0&&l<0||o<0&&l>0)&&clearInterval(e),e||(e=setInterval(function(){t(s)},50))),o=l};$("body").on("mousewheel, wheel",function(i){!$(".loader-holder").length&&$(window).width()>1024&&s(i),r=document.documentElement.scrollTop,n&&(clearTimeout(t),t=setTimeout(function(){clearInterval(e),e=null},1e3))})},App.handlePreload=function(){function e(){var e=l.shift();o.loadFile(e.path);var t="<div class='intro__image-wrap intro__image-wrap--"+e.name+"'></div>";$(".intro").append(t),t=$(".intro__image-wrap--"+e.name),r[e.path]=t}function t(e){var t=[{path:"intro/background-v1.jpg",name:"background"},{path:"intro/forest.png",name:"forest"},{path:"intro/rocks.png",name:"rocks"},{path:"intro/cor.png",name:"cor"}],i=r[e.item.id],a=e.result,n=t.filter(function(t){return t.path==e.item.id})[0];a.classList.add("intro__image","intro__image--"+n.name),i.append(a),(s+=1)>=t.length&&setTimeout(function(){$(".loader__logo > .logo").addClass("animation--fade-out"),setTimeout(function(){$("#loader").addClass("animation animation--fade-out"),setTimeout(function(){$(".loader-holder").addClass("animation animation--fade-out"),$(".intro").addClass("is--loaded"),$("#cookiebar").length&&$("#cookiebar").addClass("animation animation--slide-in-down"),setTimeout(function(){$(".fixed-elements").removeClass("hold--animations"),$(".loader-holder").remove(),$("body").removeClass("disable--scroll")},600)},300)},150)},500)}function i(e){var t=r[e.item.id];t.children("DIV").width(e.progress*t.width())}function a(e){$("#loader > .loader__bar").width(o.progress*$("#loader").width())}function n(e){r[e.item.id].addClass("error")}var o,r={},s=0,l=[{path:"intro/background-v1.jpg",name:"background"},{path:"intro/forest.png",name:"forest"},{path:"intro/rocks.png",name:"rocks"},{path:"intro/cor.png",name:"cor"}];!function(){null!=o&&o.close(),o=new createjs.LoadQueue(!0,"/resources/themes/nobears/gfx/"),o.on("fileload",t),o.on("progress",a),o.on("fileprogress",i),o.on("error",n),o.setMaxConnections(5)}(),$("body").addClass("disable--scroll"),function(){for(;l.length>0;)e()}()},App.handleSwitch=function(){var e=$("[data-role=switcher]"),t=[];e.each(function(){var e=$(this).attr("data-switchgroup");-1===$.inArray(e,t)&&t.push(e)}),$.each(t,function(e,t){var i=$("[data-switchgroup="+t+"]");if(!i.filter("[data-state=active]").length){var a=i.filter("[data-role=switcher]").first().attr("data-switchitem");i.filter("[data-switchitem="+a+"]").attr("data-state","active")}i.filter("[data-role=switcher]").each(function(){$(this).on("click",function(){var e=$(this).attr("data-state"),t=$(this).attr("data-switchitem");"active"===e?e="passive":(e="active",i.attr("data-state","passive"),i.filter("[data-switchitem="+t+"]").attr("data-state",e))})})})},App.handleText=function(){function e(){$('.js--lettering[data-state="passive"]').each(function(){if($(this).isFullyInViewport()){var e=$(this),i=e.attr("data-type"),a="line";"words"==i&&(a="word"),t(e,a,300),e.attr("data-state","active")}})}function t(e,t,i){var a=100;e.find("span").each(function(n){var o=e.find("."+t+(n+1));" "==o.text()&&o.addClass("is--space"),setTimeout(function(){o.addClass("animation animation--slide-in-left")},a),a+=i})}var i=$(".js--lettering").length,a=0;$(".js--lettering").each(function(){var t=$(this).attr("data-type");$(this).lettering(t,function(){++a>=i&&e()})}),$(window).on("resize scroll",function(){e()})},App.handleToggle=function(){function e(){var e=0;n.find(".nav__item").each(function(){var t=$(this);setTimeout(function(){t.addClass("is--visible")},e),e+=100}),$(".menu__footer").addClass("is--visible")}function t(){n.find(".nav__item").removeClass("is--visible"),$(".menu__footer").removeClass("is--visible")}var i=$("[data-role=toggler]"),a=($("[data-role=togglee]"),[]);i.each(function(){var e=$(this).attr("data-togglerId");-1===$.inArray(e,a)&&a.push(e)}),$.each(a,function(i,a){var n=$("[data-togglerId="+a+"]"),o=n.attr("data-state"),r=n.attr("data-togglerId");n.filter("[data-role=toggler]").each(function(){$(this).on("click",function(){"active"===o?(o="passive","menu"==r&&t()):(o="active","menu"==r&&setTimeout(function(){e()},800)),n.attr("data-state",o)})})});var n=$(".nav--main")},App.handleTyped=function(){var e=$(".js--typed").data("typedstring"),t=e.split(",");e&&$(".js--typed").typed({strings:t,typeSpeed:50,backSpeed:20,shuffle:!0,loop:!0})},App.handleUserAgent=function(){var e=window.navigator.userAgent;$(".useragent").text(e),(e.match(/iPad/i)||e.match(/iPhone/i))&&($("body").addClass("is--ios"),$(".js--field-holder input, .js--field-holder textarea").on("focus",function(){$(".js--field-holder input, .js--field-holder textarea").not(this).attr("readonly","readonly")}),$(".js--field-holder input, .js--field-holder textarea").on("blur",function(){$(".js--field-holder input, .js--field-holder textarea").removeAttr("readonly")}),$(".js--field-holder select").attr("tabindex","-1"),e.match(/Safari/i)&&(e.match(/CriOS/i)||$("body").addClass("is--mobile-safari")))},App.handleVisible=function(){function showVisible(){$('.js--visible[data-state="passive"]').each(function(){if($(this).isInViewport()&&"fullview"!=$(this).attr("data-type")||$(this).isFullyInViewport()&&"fullview"==$(this).attr("data-type")){var e=$(this);aniVisibleElem(e,e.attr("data-ani"),e.attr("data-delay")),e.attr("data-state","active")}})}function aniVisibleElem(e,t,i){var a=500;i&&(a+=parseInt(i)),e.addClass("animation animation--"+t).css("animation-delay",a+"ms")}function showVisibleGroup(){$('.js--visible-group[data-state="passive"]').each(function(){var elem=$(this),delay=elem.attr("data-delay");$(this).isFullyInViewport()&&(elem.attr("data-state","active"),$(this).find(".js--visible-child-list ul li").each(function(){var innerElem=$(this),ani=innerElem.closest(".js--visible-child-list").attr("data-ani");aniVisibleElem(innerElem,ani,delay),delay=eval(delay)+150}))})}showVisible(),showVisibleGroup(),$(window).on("resize scroll",function(){showVisible(),showVisibleGroup()})},App.handleWhat=function(){function e(e,t,i,a,n){return(e-t)*(n-a)/(i-t)+a}function t(){p+=.05,l={x:h.screen.width/2-Math.max(1.2*h.screen.width/p,o/6),y:h.screen.height/2+5*Math.sin(p)-o/4},c={x:h.screen.width/2+Math.max(1.2*h.screen.width/p,o/6),y:h.screen.height/2+5*Math.cos(p)+o/4},i()}function i(){x.clear(),I.clear(),k.clear(),b.clear(),k.mask=I,b.lineStyle(2,3525567),I.beginFill(3525567),k.beginFill(3525567),x.lineStyle(2,3525567),k.alpha=Math.min(m,1),k.drawCircle(0,0,o),b.drawCircle(0,0,o),x.drawCircle(0,0,o),I.drawCircle(0,0,o),k.setTransform(l.x,l.y),b.setTransform(l.x,l.y),x.setTransform(c.x,c.y),I.setTransform(c.x,c.y),j.setTransform(l.x,l.y),T.setTransform(c.x,c.y)}function a(t){var i=document.documentElement.scrollTop;if(i>0)return void clearInterval(f);0==g&&t.preventDefault();var n;n=t.originalEvent.deltaY?t.originalEvent.deltaY:-t.originalEvent.wheelDelta,1==w&&o>=r&&o<=s&&0===i?(o===r&&(n=Math.max(n,0)),o+=1.2*n,m=e(o,r,s/2,.8,1),T.alpha=e(o,r,s/2,1,0),j.alpha=e(o,r,s/2,1,0)):o<r?o=r:o>s&&(o=s),o>=Math.min(h.screen.width,h.screen.height)?($(".js--layer-what").addClass("is-active"),setTimeout(function(){g=!0},1e3)):(g=!1,$(".js--layer-what").removeClass("is-active")),_&&((y>0&&n<0||y<0&&n>0)&&clearInterval(f),f||(f=setInterval(function(){a(t)},v))),y=n}function n(){var e=h.view.parentNode;h.renderer.resize(e.clientWidth,e.clientHeight),o=Math.min(h.screen.width/4,h.screen.height/4),r=Math.min(h.screen.width/4,h.screen.height/4),s=Math.min(1.2*h.screen.width,1.2*h.screen.height),T.style={fontWeight:"700",fontSize:o/6.5,fontFamily:"filson-pro",fill:"#ffffff"},j.style={fontWeight:"700",fontSize:o/6.5,fontFamily:"filson-pro",fill:"#ffffff"}}var o,r,s,l,c,d,f,h=new PIXI.Application({autoResize:!0,resolution:devicePixelRatio,transparent:!0,forceCanvas:!1,antialias:!0}),u=new PIXI.TextStyle({fontWeight:"700",fontSize:"32px",fontFamily:"filson-pro",fill:"#ffffff"}),p=0,v=50,m=.8,w=!0,g=!1,_=/win|Win/g.test(navigator.platform),y=0,C=0;document.querySelector(".js--what-canvas").appendChild(h.view);var b=new PIXI.Graphics,x=b.clone(),k=b.clone(),I=b.clone(),T=new PIXI.Text("Entrepreneurship",u),j=new PIXI.Text("Digital",u);T.cacheAsBitmap=!0,j.cacheAsBitmap=!0,T.anchor.set(.5),j.anchor.set(.5),h.stage.addChild(b,x,k,I,T,j),$("body").on("mousewheel, wheel",function(e){a(e),C=document.documentElement.scrollTop,_&&(clearTimeout(d),d=setTimeout(function(){clearInterval(f),f=null},250))}),h.ticker.add(t),window.addEventListener("resize",n),$(".js--button--what").on("click",function(e){e.preventDefault(),$(".js--layer-what").addClass("is-active")}),$(".js--button--what-close").on("click",function(e){e.preventDefault(),$(".js--layer-what").removeClass("is-active")}),n()};